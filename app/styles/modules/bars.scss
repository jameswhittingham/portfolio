//
// Bars
// --------------------------------------------------

.bars {
	background-color: $background-primary;
	border: solid 20px $background-primary;
	height: 100vh;
	left: 0;
	overflow: hidden;
	position: absolute;
	top: 0;
	width: 100%;

	&.active {
		span {
			.loaded & {
				margin-left: 0 !important;
			}

			&:before {				
				@include animation(sway 5s infinite);
			}

			&:after {
				@include animation(sway 5s infinite);
				@include animation-delay(0.5s);
			}
		}
	}

	span {
		display: block;
		height: 10vh;
		position: relative;
		width: 100%;

		@include transition(all 0.8s);

		&:before,
		&:after {
			border: solid 150px;
			content: "";
			height: 100%;
			position: absolute;
			top: 0;
			width: 100%;
		}

		&:before {
			border-top: 0;
			left: 0px;
		}

		&:after {
			border-bottom: 0;
			right: 0px;
		}

		$elements: 11;
		$colors: $color-1, $color-2, $color-3, $color-4, $color-5, $color-6, $color-7, $color-8, $color-9, $color-10;
		@for $i from 1 to $elements {
		  	&:nth-child(#{$i}) {

			    margin-left: -100% + $i*-10;

				@include transition-delay(0.1s*$i);

				&:before {
					border-color: transparent transparent nth($colors, $i) nth($colors, $i);
					left: -100% + $i*10;

					@include animation-delay(0.5s+(0.1s*$i));
				}

				&:after {
	    			border-color: nth($colors, $i) nth($colors, $i) transparent transparent;
	    			left: -5% + $i*10;

	    			@include animation-delay(0.6s+(0.1s*$i));
	    		}

	    		@if $i > 6 {
					z-index: 2;
	    		}

		  	}
		}


		/*&:first-child {
			margin-left: -100%;

			&:before {
    			border-color: transparent transparent $color-1 $color-1;
    			left: -90%;
    		}

    		&:after {
    			border-color: $color-1 $color-1 transparent transparent;
    			left: 5%;
    		}
		}

		&:nth-child(2) {
			margin-left: -110%;

			@include transition-delay(0.1s);

			&:before {
				border-color: transparent transparent $color-2 $color-2;
				left: -80%;

				@include animation-delay(0.6s);
			}

			&:after {
    			border-color: $color-2 $color-2 transparent transparent;
    			left: 15%;

    			@include animation-delay(0.7s);
    		}
		}

		&:nth-child(3) {
			margin-left: -120%;

			@include transition-delay(0.2s);

			&:before {
				border-color: transparent transparent $color-3 $color-3;
				left: -70%;

				@include animation-delay(0.8s);
			}

			&:after {
    			border-color: $color-3 $color-3 transparent transparent;
    			left: 25%;

    			@include animation-delay(0.9s);
    		}
		}

		&:nth-child(4) {
			margin-left: -130%;

			@include transition-delay(0.3s);

			&:before {
				border-color: transparent transparent $color-4 $color-4;
				left: -60%;

				@include animation-delay(1s);
			}

			&:after {
    			border-color: $color-4 $color-4 transparent transparent;
    			left: 35%;

    			@include animation-delay(1.1s);
    		}
		}

		&:nth-child(5) {
			margin-left: -140%;

			@include transition-delay(0.4s);

			&:before {
				border-color: transparent transparent $color-5 $color-5;
				left: -50%;

				@include animation-delay(1.2s);
			}

			&:after {
    			border-color: $color-5 $color-5 transparent transparent;
    			left: 45%;

    			@include animation-delay(1.2s);
    		}
		}

		&:nth-child(6) {
			margin-left: -150%;

			@include transition-delay(0.5s);

			&:before {
				border-color: transparent transparent $color-6 $color-6;
				left: -40%;

				@include animation-delay(1.3s);
			}

			&:after {
    			border-color: $color-6 $color-6 transparent transparent;
    			left: 55%;

    			@include animation-delay(1.4s);
    		}
		}

		&:nth-child(7) {
			margin-left: -160%;
			z-index: 2;

			@include transition-delay(0.6s);

			&:before {
				border-color: transparent transparent $color-7 $color-7;
				left: -30%;

				@include animation-delay(1.5s);
			}

			&:after {
    			border-color: $color-7 $color-7 transparent transparent;
    			left: 65%;

    			@include animation-delay(1.6s);
    		}	
		}

		&:nth-child(8) {
			margin-left: -170%;
			z-index: 2;

			@include transition-delay(0.7s);

			&:before {
				border-color: transparent transparent $color-8 $color-8;
				left: -20%;

				@include animation-delay(1.7s);
			}

			&:after {
    			border-color: $color-8 $color-8 transparent transparent;
    			left: 75%;

    			@include animation-delay(1.8s);
    		}
		}

		&:nth-child(9) {
			margin-left: -180%;
			z-index: 2;

			@include transition-delay(0.8s);

			&:before {
				border-color: transparent transparent $color-9 $color-9;
				left: -10%;

				@include animation-delay(1.9s);
			}

			&:after {
    			border-color: $color-9 $color-9 transparent transparent;
    			left: 85%;

    			@include animation-delay(2s);
    		}	
		}

		&:nth-child(10) {
			margin-left: -190%;
			z-index: 2;

			@include transition-delay(0.9s);

			&:before {
				border-color: transparent transparent $color-10 $color-10;
				left: -0%;

				@include animation-delay(2.1s);
			}

			&:after {
    			border-color: $color-10 $color-10 transparent transparent;
    			left: 95%;

    			@include animation-delay(2.2s);
    		}
		}*/
	}
}